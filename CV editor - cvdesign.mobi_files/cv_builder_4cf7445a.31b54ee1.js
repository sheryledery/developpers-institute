(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cv_builder~4cf7445a"],{a15f:function(t,e,r){"use strict";r.d(e,"a",(function(){return h})),r.d(e,"b",(function(){return m})),r.d(e,"c",(function(){return d})),r.d(e,"d",(function(){return y})),r.d(e,"e",(function(){return v})),r.d(e,"f",(function(){return g}));var n=r("986d");/*!
* tiptap-utils v1.9.0
* (c) 2020 Scrumpy UG (limited liability)
* @license MIT
*/function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t){return s(t)||u(t)||p(t)||l()}function s(t){if(Array.isArray(t))return f(t)}function u(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function p(t,e){if(t){if("string"===typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t,e){var r=t.selection,n=r.from,o=r.to,i=[];t.doc.nodesBetween(n,o,(function(t){i=[].concat(c(i),c(t.marks))}));var a=i.find((function(t){return t.type.name===e.name}));return a?a.attrs:{}}function d(t,e){var r=t.selection,n=r.from,o=r.to,i=[];t.doc.nodesBetween(n,o,(function(t){i=[].concat(c(i),[t])}));var a=i.reverse().find((function(t){return t.type.name===e.name}));return a?a.attrs:{}}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t||!e)return!1;var r=t.parent.childAfter(t.parentOffset);if(!r.node)return!1;var n=r.node.marks.find((function(t){return t.type===e}));if(!n)return!1;var o=t.index(),i=t.start()+r.offset,a=o+1,c=i+r.node.nodeSize;while(o>0&&n.isInSet(t.parent.child(o-1).marks))o-=1,i-=t.parent.child(o).nodeSize;while(a<t.parent.childCount&&n.isInSet(t.parent.child(a).marks))c+=t.parent.child(a).nodeSize,a+=1;return{from:i,to:c}}function y(t,e){var r=t.selection,n=r.from,o=r.$from,i=r.to,a=r.empty;return a?!!e.isInSet(t.storedMarks||o.marks()):!!t.doc.rangeHasMark(n,i,e)}function v(t){var e=t.types,r=t.node;return Array.isArray(e)&&e.includes(r.type)||r.type===e}function g(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=function(t){return t.type===e},i=Object(n["findSelectedNodeOfType"])(e)(t.selection)||Object(n["findParentNode"])(o)(t.selection);return Object.keys(r).length&&i?i.node.hasMarkup(e,a({},i.node.attrs,{},r)):!!i}},a9de:function(t,e,r){"use strict";r.d(e,"c",(function(){return p})),r.d(e,"e",(function(){return g})),r.d(e,"f",(function(){return k})),r.d(e,"g",(function(){return b})),r.d(e,"h",(function(){return w})),r.d(e,"i",(function(){return O})),r.d(e,"j",(function(){return S})),r.d(e,"n",(function(){return M})),r.d(e,"p",(function(){return x})),r.d(e,"q",(function(){return _})),r.d(e,"s",(function(){return A})),r.d(e,"t",(function(){return R}));var n=r("0010");r.d(e,"a",(function(){return n["b"]})),r.d(e,"b",(function(){return n["c"]})),r.d(e,"k",(function(){return n["e"]})),r.d(e,"r",(function(){return n["f"]}));var o=r("665f");r.d(e,"d",(function(){return o["a"]})),r.d(e,"l",(function(){return o["b"]})),r.d(e,"m",(function(){return o["c"]}));var i=r("f95e");r.d(e,"o",(function(){return i["c"]})),r.d(e,"u",(function(){return i["e"]}));var a=r("5313"),c=r("304a"),s=r("a15f"),u=r("986d");/*!
* tiptap-commands v1.13.0
* (c) 2020 Scrumpy UG (limited liability)
* @license MIT
*/function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(e,r){var n=e.selection.$from,o=n.pos.pos;return r(e.tr.insertText(t,o)),!0}}function f(t){return l(t)||h(t)||d(t)||y()}function l(t){if(Array.isArray(t))return m(t)}function h(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function d(t,e){if(t){if("string"===typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(t,e,r){var n=[];return r.doc.nodesBetween(t,e,(function(t,e){n=[].concat(f(n),f(t.marks.map((function(r){return{start:e,end:e+t.nodeSize,mark:r}}))))})),n}function g(t,e,r){return new i["a"](t,(function(t,n,o,i){var a=r instanceof Function?r(n):r,c=t.tr,s=n.length-1,u=i,p=o;if(n[s]){var f=o+n[0].indexOf(n[s-1]),l=f+n[s-1].length-1,h=f+n[s-1].lastIndexOf(n[s]),d=h+n[s].length,m=v(o,i,t).filter((function(t){var r=t.mark.type.excluded;return r.find((function(t){return t.name===e.name}))})).filter((function(t){return t.end>f}));if(m.length)return!1;d<l&&c.delete(d,l),h>f&&c.delete(f,h),p=f,u=p+n[s].length}return c.addMark(p,u,e.create(a)),c.removeStoredMark(e),c}))}function b(t,e,r){return new i["a"](t,(function(t,n,o,i){var a=r instanceof Function?r(n):r,c=t.tr;return n[0]&&c.replaceWith(o-1,i,e.create(a)),c}))}function w(t,e,r){var n=function n(o){var i=[];return o.forEach((function(o){if(o.isText){var a,c=o.text,s=0;do{if(a=t.exec(c),a){var u=a.index,p=u+a[0].length,f=r instanceof Function?r(a[0]):r;u>0&&i.push(o.cut(s,u)),i.push(o.cut(u,p).mark(e.create(f).addToSet(o.marks))),s=p}}while(a);s<c.length&&i.push(o.cut(s))}else i.push(o.copy(n(o.content)))})),c["Fragment"].fromArray(i)};return new a["Plugin"]({props:{transformPasted:function(t){return new c["Slice"](n(t.content),t.openStart,t.openEnd)}}})}function k(t,e,r){var n=function n(o,i){var a=[];return o.forEach((function(o){if(o.isText){var c,s=o.text,u=o.marks,p=0,f=!!u.filter((function(t){return"link"===t.type.name}))[0];while(!f&&null!==(c=t.exec(s)))if(i.type.allowsMarkType(e)&&c[1]){var l=c.index,h=l+c[0].length,d=l+c[0].indexOf(c[1]),m=d+c[1].length,y=r instanceof Function?r(c):r;l>0&&a.push(o.cut(p,l)),a.push(o.cut(d,m).mark(e.create(y).addToSet(o.marks))),p=h}p<s.length&&a.push(o.cut(p))}else a.push(o.copy(n(o.content,o)))})),c["Fragment"].fromArray(a)};return new a["Plugin"]({props:{transformPasted:function(t){return new c["Slice"](n(t.content),t.openStart,t.openEnd)}}})}function O(t){return function(e,r){var n=e.tr,o=e.selection,i=o.from,a=o.to,c=o.$from,u=o.empty;if(u){var p=Object(s["b"])(c,t);i=p.from,a=p.to}return n.removeMark(i,a,t),r(n)}}function S(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(n,o){var i=n.selection,a=i.$from,c=i.$to,s=a.index(),u=t?t.from:a.pos,p=t?t.to:c.pos;return!!a.parent.canReplaceWith(s,s,e)&&(o&&o(n.tr.replaceWith(u,p,e.create(r))),!0)}}function j(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,o=t.resolve(e),i=o.depth-r,a=n&&n[n.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var c=o.depth-1,s=r-2;c>i;c--,s--){var u=o.node(c),p=o.index(c);if(u.type.spec.isolating)return!1;var f=u.content.cutByIndex(p,u.childCount),l=n&&n[s]||u;if(l!=u&&(f=f.replaceChild(0,l.type.create(l.attrs))),!u.canReplace(p+1,u.childCount))return!1}var h=o.indexAfter(i),d=n&&n[0];return o.node(i).canReplaceWith(h,h,d?d.type:o.node(i+1).type)}function M(t){return function(e,r){var n=e.selection,o=n.$from,i=n.$to,a=n.node;if(a&&a.isBlock||o.depth<2||!o.sameParent(i))return!1;var s=o.node(-1);if(s.type!=t)return!1;if(0==o.parent.content.size){if(2==o.depth||o.node(-3).type!=t||o.index(-2)!=o.node(-2).childCount-1)return!1;if(r){for(var u=c["Fragment"].empty,p=o.index(-1)>0,f=o.depth-(p?1:2);f>=o.depth-3;f--)u=c["Fragment"].from(o.node(f).copy(u));u=u.append(c["Fragment"].from(t.createAndFill()));var l=e.tr.replace(o.before(p?null:-1),o.after(-3),new c["Slice"](u,p?3:2,2));l.setSelection(e.selection.constructor.near(l.doc.resolve(o.pos+(p?3:2)))),r(l.scrollIntoView())}return!0}var h=i.pos==o.end()?s.contentMatchAt(o.indexAfter(-1)).defaultType:null,d=e.tr.delete(o.pos,i.pos),m=h&&[{type:t},{type:h}];return m||(m=[{type:t},null]),!!j(d.doc,o.pos,2,m)&&(r&&r(d.split(o.pos,2,m).scrollIntoView()),!0)}}function x(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(o,i,a){var c=Object(s["f"])(o,t,r);return c?Object(n["e"])(e)(o,i,a):Object(n["e"])(t,r)(o,i,a)}}function C(t,e){return t.type===e.nodes.bullet_list||t.type===e.nodes.ordered_list||t.type===e.nodes.todo_list}function _(t,e){return function(r,n,i){var a=r.schema,c=r.selection,s=c.$from,p=c.$to,f=s.blockRange(p);if(!f)return!1;var l=Object(u["findParentNode"])((function(t){return C(t,a)}))(c);if(f.depth>=1&&l&&f.depth-l.depth<=1){if(l.node.type===t)return Object(o["a"])(e)(r,n,i);if(C(l.node,a)&&t.validContent(l.node.content)){var h=r.tr;return h.setNodeMarkup(l.pos,t),n&&n(h),!1}}return Object(o["d"])(t)(r,n,i)}}function A(t){return function(e,r,o){var i=Object(s["f"])(e,t);return i?Object(n["d"])(e,r):Object(n["g"])(t)(e,r,o)}}function R(t,e){return function(r,n){var o=r.tr,i=r.selection,a=r.doc,c=i.from,u=i.to,p=i.$from,f=i.empty;if(f){var l=Object(s["b"])(p,t);c=l.from,u=l.to}var h=a.rangeHasMark(c,u,t);return h&&o.removeMark(c,u,t),o.addMark(c,u,t.create(e)),n(o)}}},f23d:function(t,e,r){"use strict";r.d(e,"a",(function(){return Rt})),r.d(e,"b",(function(){return bt})),r.d(e,"c",(function(){return Ft})),r.d(e,"d",(function(){return St})),r.d(e,"e",(function(){return xt})),r.d(e,"f",(function(){return _t})),r.d(e,"g",(function(){return At})),r.d(e,"h",(function(){return Et}));var n=r("cd42"),o=r("a9de"),i=r("3ce4"),a=r.n(i),c=r("576a"),s=r("986d"),u=r("5313"),p=r("55be"),f=r("a15f"),l=r("304a"),h=65535,d=Math.pow(2,16);function m(t,e){return t+e*d}function y(t){return t&h}function v(t){return(t-(t&h))/d}var g=function(t,e,r){void 0===e&&(e=!1),void 0===r&&(r=null),this.pos=t,this.deleted=e,this.recover=r},b=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};b.prototype.recover=function(t){var e=0,r=y(t);if(!this.inverted)for(var n=0;n<r;n++)e+=this.ranges[3*n+2]-this.ranges[3*n+1];return this.ranges[3*r]+e+v(t)},b.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},b.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},b.prototype._map=function(t,e,r){for(var n=0,o=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var c=this.ranges[a]-(this.inverted?n:0);if(c>t)break;var s=this.ranges[a+o],u=this.ranges[a+i],p=c+s;if(t<=p){var f=s?t==c?-1:t==p?1:e:e,l=c+n+(f<0?0:u);if(r)return l;var h=m(a/3,t-c);return new g(l,e<0?t!=c:t!=p,h)}n+=u-s}return r?t+n:new g(t+n)},b.prototype.touches=function(t,e){for(var r=0,n=y(e),o=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var c=this.ranges[a]-(this.inverted?r:0);if(c>t)break;var s=this.ranges[a+o],u=c+s;if(t<=u&&a==3*n)return!0;r+=this.ranges[a+i]-s}return!1},b.prototype.forEach=function(t){for(var e=this.inverted?2:1,r=this.inverted?1:2,n=0,o=0;n<this.ranges.length;n+=3){var i=this.ranges[n],a=i-(this.inverted?o:0),c=i+(this.inverted?0:o),s=this.ranges[n+e],u=this.ranges[n+r];t(a,a+s,c,c+u),o+=u-s}},b.prototype.invert=function(){return new b(this.ranges,!this.inverted)},b.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},b.offset=function(t){return 0==t?b.empty:new b(t<0?[0,-t,0]:[0,0,t])},b.empty=new b([]);var w=function(t,e,r,n){this.maps=t||[],this.from=r||0,this.to=null==n?this.maps.length:n,this.mirror=e};function k(t){var e=Error.call(this,t);return e.__proto__=k.prototype,e}w.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new w(this.maps,this.mirror,t,e)},w.prototype.copy=function(){return new w(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},w.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},w.prototype.appendMapping=function(t){for(var e=0,r=this.maps.length;e<t.maps.length;e++){var n=t.getMirror(e);this.appendMap(t.maps[e],null!=n&&n<e?r+n:null)}},w.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},w.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},w.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,r=this.maps.length+t.maps.length;e>=0;e--){var n=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=n&&n>e?r-n-1:null)}},w.prototype.invert=function(){var t=new w;return t.appendMappingInverted(this),t},w.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var r=this.from;r<this.to;r++)t=this.maps[r].map(t,e);return t},w.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},w.prototype._map=function(t,e,r){for(var n=!1,o=null,i=this.from;i<this.to;i++){var a=this.maps[i],c=o&&o[i];if(null!=c&&a.touches(t,c))t=a.recover(c);else{var s=a.mapResult(t,e);if(null!=s.recover){var u=this.getMirror(i);if(null!=u&&u>i&&u<this.to){if(s.deleted){i=u,t=this.maps[u].recover(s.recover);continue}(o||(o=Object.create(null)))[u]=s.recover}}s.deleted&&(n=!0),t=s.pos}}return r?t:new g(t,n)},k.prototype=Object.create(Error.prototype),k.prototype.constructor=k,k.prototype.name="TransformError";var O=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new w},S={before:{configurable:!0},docChanged:{configurable:!0}};function j(){throw new Error("Override me")}S.before.get=function(){return this.docs.length?this.docs[0]:this.doc},O.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new k(e.failed);return this},O.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},S.docChanged.get=function(){return this.steps.length>0},O.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(O.prototype,S);var M=Object.create(null),x=function(){};x.prototype.apply=function(t){return j()},x.prototype.getMap=function(){return b.empty},x.prototype.invert=function(t){return j()},x.prototype.map=function(t){return j()},x.prototype.merge=function(t){return null},x.prototype.toJSON=function(){return j()},x.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var r=M[e.stepType];if(!r)throw new RangeError("No step type "+e.stepType+" defined");return r.fromJSON(t,e)},x.jsonID=function(t,e){if(t in M)throw new RangeError("Duplicate use of step JSON ID "+t);return M[t]=e,e.prototype.jsonID=t,e};var C=function(t,e){this.doc=t,this.failed=e};C.ok=function(t){return new C(t,null)},C.fail=function(t){return new C(null,t)},C.fromReplace=function(t,e,r,n){try{return C.ok(t.replace(e,r,n))}catch(o){if(o instanceof l["ReplaceError"])return C.fail(o.message);throw o}};var _=function(t){function e(e,r,n,o){t.call(this),this.from=e,this.to=r,this.slice=n,this.structure=!!o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&R(t,this.from,this.to)?C.fail("Structure replace would overwrite content"):C.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new b([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted?null:new e(r.pos,Math.max(r.pos,n.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure!=this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var r=this.slice.size+t.slice.size==0?l["Slice"].empty:new l["Slice"](t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,r,this.structure)}var n=this.slice.size+t.slice.size==0?l["Slice"].empty:new l["Slice"](this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),n,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(r.from,r.to,l["Slice"].fromJSON(t,r.slice),!!r.structure)},e}(x);x.jsonID("replace",_);var A=function(t){function e(e,r,n,o,i,a,c){t.call(this),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=o,this.slice=i,this.insert=a,this.structure=!!c}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(R(t,this.from,this.gapFrom)||R(t,this.gapTo,this.to)))return C.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return C.fail("Gap is not a flat range");var r=this.slice.insertAt(this.insert,e.content);return r?C.fromReplace(t,this.from,this.to,r):C.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new b([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var r=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),o=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return r.deleted&&n.deleted||o<r.pos||i>n.pos?null:new e(r.pos,n.pos,o,i,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,r){if("number"!=typeof r.from||"number"!=typeof r.to||"number"!=typeof r.gapFrom||"number"!=typeof r.gapTo||"number"!=typeof r.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(r.from,r.to,r.gapFrom,r.gapTo,l["Slice"].fromJSON(t,r.slice),r.insert,!!r.structure)},e}(x);function R(t,e,r){var n=t.resolve(e),o=r-e,i=n.depth;while(o>0&&i>0&&n.indexAfter(i)==n.node(i).childCount)i--,o--;if(o>0){var a=n.node(i).maybeChild(n.indexAfter(i));while(o>0){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}}return!1}function F(t,e,r){var n=t.resolve(e),o=n.index();return n.parent.canReplaceWith(o,o+1,r)}function E(t,e,r){var n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(0==n.parentOffset)for(var o=n.depth-1;o>=0;o--){var i=n.index(o);if(n.node(o).canReplaceWith(i,i,r))return n.before(o+1);if(i>0)return null}if(n.parentOffset==n.parent.content.size)for(var a=n.depth-1;a>=0;a--){var c=n.indexAfter(a);if(n.node(a).canReplaceWith(c,c,r))return n.after(a+1);if(c<n.node(a).childCount)return null}}function T(t,e,r){for(var n=[],o=0;o<t.childCount;o++){var i=t.child(o);i.content.size&&(i=i.copy(T(i.content,e,i))),i.isInline&&(i=e(i,r,o)),n.push(i)}return l["Fragment"].fromArray(n)}x.jsonID("replaceAround",A),O.prototype.lift=function(t,e){for(var r=t.$from,n=t.$to,o=t.depth,i=r.before(o+1),a=n.after(o+1),c=i,s=a,u=l["Fragment"].empty,p=0,f=o,h=!1;f>e;f--)h||r.index(f)>0?(h=!0,u=l["Fragment"].from(r.node(f).copy(u)),p++):c--;for(var d=l["Fragment"].empty,m=0,y=o,v=!1;y>e;y--)v||n.after(y+1)<n.end(y)?(v=!0,d=l["Fragment"].from(n.node(y).copy(d)),m++):s++;return this.step(new A(c,s,i,a,new l["Slice"](u.append(d),p,m),u.size-p,!0))},O.prototype.wrap=function(t,e){for(var r=l["Fragment"].empty,n=e.length-1;n>=0;n--)r=l["Fragment"].from(e[n].type.create(e[n].attrs,r));var o=t.start,i=t.end;return this.step(new A(o,i,o,i,new l["Slice"](r,0,0),e.length,!0))},O.prototype.setBlockType=function(t,e,r,n){var o=this;if(void 0===e&&(e=t),!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(r,n)&&F(o.doc,o.mapping.slice(i).map(e),r)){o.clearIncompatible(o.mapping.slice(i).map(e,1),r);var a=o.mapping.slice(i),c=a.map(e,1),s=a.map(e+t.nodeSize,1);return o.step(new A(c,s,c+1,s-1,new l["Slice"](l["Fragment"].from(r.create(n,null,t.marks)),0,0),1,!0)),!1}})),this},O.prototype.setNodeMarkup=function(t,e,r,n){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var i=e.create(r,null,n||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,i);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new A(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new l["Slice"](l["Fragment"].from(i),0,0),1,!0))},O.prototype.split=function(t,e,r){void 0===e&&(e=1);for(var n=this.doc.resolve(t),o=l["Fragment"].empty,i=l["Fragment"].empty,a=n.depth,c=n.depth-e,s=e-1;a>c;a--,s--){o=l["Fragment"].from(n.node(a).copy(o));var u=r&&r[s];i=l["Fragment"].from(u?u.type.create(u.attrs,i):n.node(a).copy(i))}return this.step(new _(t,t,new l["Slice"](o.append(i),e,e),!0))},O.prototype.join=function(t,e){void 0===e&&(e=1);var r=new _(t-e,t+e,l["Slice"].empty,!0);return this.step(r)};var I=function(t){function e(e,r,n){t.call(this),this.from=e,this.to=r,this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,r=t.slice(this.from,this.to),n=t.resolve(this.from),o=n.node(n.sharedDepth(this.to)),i=new l["Slice"](T(r.content,(function(t,r){return r.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),o),r.openStart,r.openEnd);return C.fromReplace(t,this.from,this.to,i)},e.prototype.invert=function(){return new N(this.from,this.to,this.mark)},e.prototype.map=function(t){var r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new e(r.pos,n.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(r.from,r.to,t.markFromJSON(r.mark))},e}(x);x.jsonID("addMark",I);var N=function(t){function e(e,r,n){t.call(this),this.from=e,this.to=r,this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,r=t.slice(this.from,this.to),n=new l["Slice"](T(r.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),r.openStart,r.openEnd);return C.fromReplace(t,this.from,this.to,n)},e.prototype.invert=function(){return new I(this.from,this.to,this.mark)},e.prototype.map=function(t){var r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new e(r.pos,n.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(r.from,r.to,t.markFromJSON(r.mark))},e}(x);function D(t,e,r,n){if(void 0===r&&(r=e),void 0===n&&(n=l["Slice"].empty),e==r&&!n.size)return null;var o=t.resolve(e),i=t.resolve(r);return $(o,i,n)?new _(e,r,n):new z(o,i,n).fit()}function $(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}x.jsonID("removeMark",N),O.prototype.addMark=function(t,e,r){var n=this,o=[],i=[],a=null,c=null;return this.doc.nodesBetween(t,e,(function(n,s,u){if(n.isInline){var p=n.marks;if(!r.isInSet(p)&&u.type.allowsMarkType(r.type)){for(var f=Math.max(s,t),l=Math.min(s+n.nodeSize,e),h=r.addToSet(p),d=0;d<p.length;d++)p[d].isInSet(h)||(a&&a.to==f&&a.mark.eq(p[d])?a.to=l:o.push(a=new N(f,l,p[d])));c&&c.to==f?c.to=l:i.push(c=new I(f,l,r))}}})),o.forEach((function(t){return n.step(t)})),i.forEach((function(t){return n.step(t)})),this},O.prototype.removeMark=function(t,e,r){var n=this;void 0===r&&(r=null);var o=[],i=0;return this.doc.nodesBetween(t,e,(function(n,a){if(n.isInline){i++;var c=null;if(r instanceof l["MarkType"]){var s=r.isInSet(n.marks);s&&(c=[s])}else r?r.isInSet(n.marks)&&(c=[r]):c=n.marks;if(c&&c.length)for(var u=Math.min(a+n.nodeSize,e),p=0;p<c.length;p++){for(var f=c[p],h=void 0,d=0;d<o.length;d++){var m=o[d];m.step==i-1&&f.eq(o[d].style)&&(h=m)}h?(h.to=u,h.step=i):o.push({style:f,from:Math.max(a,t),to:u,step:i})}}})),o.forEach((function(t){return n.step(new N(t.from,t.to,t.style))})),this},O.prototype.clearIncompatible=function(t,e,r){void 0===r&&(r=e.contentMatch);for(var n=this.doc.nodeAt(t),o=[],i=t+1,a=0;a<n.childCount;a++){var c=n.child(a),s=i+c.nodeSize,u=r.matchType(c.type,c.attrs);if(u){r=u;for(var p=0;p<c.marks.length;p++)e.allowsMarkType(c.marks[p].type)||this.step(new N(i,s,c.marks[p]))}else o.push(new _(i,s,l["Slice"].empty));i=s}if(!r.validEnd){var f=r.fillBefore(l["Fragment"].empty,!0);this.replace(i,i,new l["Slice"](f,0,0))}for(var h=o.length-1;h>=0;h--)this.step(o[h]);return this},O.prototype.replace=function(t,e,r){void 0===e&&(e=t),void 0===r&&(r=l["Slice"].empty);var n=D(this.doc,t,e,r);return n&&this.step(n),this},O.prototype.replaceWith=function(t,e,r){return this.replace(t,e,new l["Slice"](l["Fragment"].from(r),0,0))},O.prototype.delete=function(t,e){return this.replace(t,e,l["Slice"].empty)},O.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var z=function(t,e,r){this.$to=e,this.$from=t,this.unplaced=r,this.frontier=[];for(var n=0;n<=t.depth;n++){var o=t.node(n);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(n))})}this.placed=l["Fragment"].empty;for(var i=t.depth;i>0;i--)this.placed=l["Fragment"].from(t.node(i).copy(this.placed))},P={depth:{configurable:!0}};function J(t,e,r){return 0==e?t.cutByIndex(r):t.replaceChild(0,t.firstChild.copy(J(t.firstChild.content,e-1,r)))}function B(t,e,r){return 0==e?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(B(t.lastChild.content,e-1,r)))}function q(t,e){for(var r=0;r<e;r++)t=t.firstChild.content;return t}function W(t,e,r){if(e<=0)return t;var n=t.content;return e>1&&(n=n.replaceChild(0,W(n.firstChild,e-1,1==n.childCount?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(l["Fragment"].empty,!0)))),t.copy(n)}function L(t,e,r,n,o){var i=t.node(e),a=o?t.indexAfter(e):t.index(e);if(a==i.childCount&&!r.compatibleContent(i.type))return null;var c=n.fillBefore(i.content,!0,a);return c&&!H(r,i.content,a)?c:null}function H(t,e,r){for(var n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function K(t,e,r,n,o){if(e<r){var i=t.firstChild;t=t.replaceChild(0,i.copy(K(i.content,e+1,r,n,i)))}if(e>n){var a=o.contentMatchAt(0),c=a.fillBefore(t).append(t);t=c.append(a.matchFragment(c).fillBefore(l["Fragment"].empty,!0))}return t}function U(t,e){for(var r=[],n=Math.min(t.depth,e.depth),o=n;o>=0;o--){var i=t.start(o);if(i<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;i==e.start(o)&&r.push(o)}return r}P.depth.get=function(){return this.frontier.length-1},z.prototype.fit=function(){while(this.unplaced.size){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,o=e<0?this.$to:n.doc.resolve(e);if(this.close(o)){var i=this.placed,a=n.depth,c=o.depth;while(a&&c&&1==i.childCount)i=i.firstChild.content,a--,c--;var s=new l["Slice"](i,a,c);if(e>-1)return new A(n.pos,e,this.$to.pos,this.$to.end(),s,r);if(s.size||n.pos!=this.$to.pos)return new _(n.pos,o.pos,s)}return null},z.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--){var r=void 0,n=void 0;e?(n=q(this.unplaced.content,e-1).firstChild,r=n.content):r=this.unplaced.content;for(var o=r.firstChild,i=this.depth;i>=0;i--){var a=this.frontier[i],c=a.type,s=a.match,u=void 0,p=void 0;if(1==t&&(o?s.matchType(o.type)||(p=s.fillBefore(l["Fragment"].from(o),!1)):c.compatibleContent(n.type)))return{sliceDepth:e,frontierDepth:i,parent:n,inject:p};if(2==t&&o&&(u=s.findWrapping(o.type)))return{sliceDepth:e,frontierDepth:i,parent:n,wrap:u};if(n&&s.matchType(n.type))break}}},z.prototype.openMore=function(){var t=this.unplaced,e=t.content,r=t.openStart,n=t.openEnd,o=q(e,r);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new l["Slice"](e,r+1,Math.max(n,o.size+r>=e.size-n?r+1:0)),!0)},z.prototype.dropNode=function(){var t=this.unplaced,e=t.content,r=t.openStart,n=t.openEnd,o=q(e,r);if(o.childCount<=1&&r>0){var i=e.size-r<=r+o.size;this.unplaced=new l["Slice"](J(e,r-1,1),r-1,i?r-1:n)}else this.unplaced=new l["Slice"](J(e,r,1),r,n)},z.prototype.placeNodes=function(t){var e=t.sliceDepth,r=t.frontierDepth,n=t.parent,o=t.inject,i=t.wrap;while(this.depth>r)this.closeFrontierNode();if(i)for(var a=0;a<i.length;a++)this.openFrontierNode(i[a]);var c=this.unplaced,s=n?n.content:c.content,u=c.openStart-e,p=0,f=[],h=this.frontier[r],d=h.match,m=h.type;if(o){for(var y=0;y<o.childCount;y++)f.push(o.child(y));d=d.matchFragment(o)}var v=s.size+e-(c.content.size-c.openEnd);while(p<s.childCount){var g=s.child(p),b=d.matchType(g.type);if(!b)break;p++,(p>1||0==u||g.content.size)&&(d=b,f.push(W(g.mark(m.allowedMarks(g.marks)),1==p?u:0,p==s.childCount?v:-1)))}var w=p==s.childCount;w||(v=-1),w&&v<0&&n&&n.type==this.frontier[this.depth].type?this.closeFrontierNode():this.frontier[r].match=d;for(var k=0,O=s;k<v;k++){var S=O.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),O=S.content}this.unplaced=w?0==e?l["Slice"].empty:new l["Slice"](J(c.content,e-1,1),e-1,v<0?c.openEnd:e-1):new l["Slice"](J(c.content,e,p),c.openStart,c.openEnd),this.placed=B(this.placed,r,l["Fragment"].from(f))},z.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!L(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;var r=this.$to,n=r.depth,o=this.$to.after(n);while(n>1&&o==this.$to.end(--n))++o;return o},z.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var r=this.frontier[e],n=r.match,o=r.type,i=L(t,e,o,n,!1);if(i){for(var a=e-1;a>=0;a--){var c=this.frontier[a],s=c.match,u=c.type,p=L(t,a,u,s,!0);if(!p||p.childCount)continue t}return{depth:e,fit:i}}}},z.prototype.close=function(t){var e=this.findCloseLevel(t);if(!e)return!1;while(this.depth>e.depth)this.closeFrontierNode();e.fit.childCount&&(this.placed=B(this.placed,e.depth,e.fit));for(var r=e.depth+1;r<=t.depth;r++){var n=t.node(r),o=n.type.contentMatch.fillBefore(n.content,!0,t.index(r));this.openFrontierNode(n.type,n.attrs,o)}return!0},z.prototype.openFrontierNode=function(t,e,r){var n=this.frontier[this.depth];n.match=n.match.matchType(t),this.placed=B(this.placed,this.depth,l["Fragment"].from(t.create(e,r))),this.frontier.push({type:t,match:t.contentMatch})},z.prototype.closeFrontierNode=function(){var t=this.frontier.pop(),e=t.match.fillBefore(l["Fragment"].empty,!0);e.childCount&&(this.placed=B(this.placed,this.frontier.length,e))},Object.defineProperties(z.prototype,P),O.prototype.replaceRange=function(t,e,r){if(!r.size)return this.deleteRange(t,e);var n=this.doc.resolve(t),o=this.doc.resolve(e);if($(n,o,r))return this.step(new _(t,e,r));var i=U(n,this.doc.resolve(e));0==i[i.length-1]&&i.pop();var a=-(n.depth+1);i.unshift(a);for(var c=n.depth,s=n.pos-1;c>0;c--,s--){var u=n.node(c).type.spec;if(u.defining||u.isolating)break;i.indexOf(c)>-1?a=c:n.before(c)==s&&i.splice(1,0,-c)}for(var p=i.indexOf(a),f=[],h=r.openStart,d=r.content,m=0;;m++){var y=d.firstChild;if(f.push(y),m==r.openStart)break;d=y.content}h>0&&f[h-1].type.spec.defining&&n.node(p).type!=f[h-1].type?h-=1:h>=2&&f[h-1].isTextblock&&f[h-2].type.spec.defining&&n.node(p).type!=f[h-2].type&&(h-=2);for(var v=r.openStart;v>=0;v--){var g=(v+h+1)%(r.openStart+1),b=f[g];if(b)for(var w=0;w<i.length;w++){var k=i[(w+p)%i.length],O=!0;k<0&&(O=!1,k=-k);var S=n.node(k-1),j=n.index(k-1);if(S.canReplaceWith(j,j,b.type,b.marks))return this.replace(n.before(k),O?o.after(k):e,new l["Slice"](K(r.content,0,r.openStart,g),g,r.openEnd))}}for(var M=this.steps.length,x=i.length-1;x>=0;x--){if(this.replace(t,e,r),this.steps.length>M)break;var C=i[x];x<0||(t=n.before(C),e=o.after(C))}return this},O.prototype.replaceRangeWith=function(t,e,r){if(!r.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var n=E(this.doc,t,r.type);null!=n&&(t=e=n)}return this.replaceRange(t,e,new l["Slice"](l["Fragment"].from(r),0,0))},O.prototype.deleteRange=function(t,e){for(var r=this.doc.resolve(t),n=this.doc.resolve(e),o=U(r,n),i=0;i<o.length;i++){var a=o[i],c=i==o.length-1;if(c&&0==a||r.node(a).type.contentMatch.validEnd)return this.delete(r.start(a),n.end(a));if(a>0&&(c||r.node(a-1).canReplace(r.index(a-1),n.indexAfter(a-1))))return this.delete(r.before(a),n.after(a))}for(var s=1;s<=r.depth&&s<=n.depth;s++)if(t-r.start(s)==r.depth-s&&e>r.end(s)&&n.end(s)-e!=n.depth-s)return this.delete(r.before(s),e);return this.delete(t,e)};var G=r("46c3"),V=r("8726");/*!
* tiptap-extensions v1.29.0
* (c) 2020 Scrumpy UG (limited liability)
* @license MIT
*/function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Y(t,e,r){return e&&X(t.prototype,e),r&&X(t,r),t}function Z(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function et(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(r),!0).forEach((function(e){Z(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function rt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ot(t,e)}function nt(t){return nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nt(t)}function ot(t,e){return ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ot(t,e)}function it(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function at(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ct(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?at(t):e}function st(t){return function(){var e,r=nt(t);if(it()){var n=nt(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return ct(this,e)}}function ut(t,e){return lt(t)||dt(t,e)||mt(t,e)||gt()}function pt(t){return ft(t)||ht(t)||mt(t)||vt()}function ft(t){if(Array.isArray(t))return yt(t)}function lt(t){if(Array.isArray(t))return t}function ht(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function dt(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done);n=!0)if(r.push(a.value),e&&r.length===e)break}catch(s){o=!0,i=s}finally{try{n||null==c["return"]||c["return"]()}finally{if(o)throw i}}return r}}function mt(t,e){if(t){if("string"===typeof t)return yt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yt(t,e):void 0}}function yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n["f"];var bt=function(t){rt(r,t);var e=st(r);function r(){return Q(this,r),e.apply(this,arguments)}return Y(r,[{key:"commands",value:function(t){var e=t.type,r=t.schema;return function(){return Object(o["q"])(e,r.nodes.list_item)}}},{key:"keys",value:function(t){var e=t.type,r=t.schema;return{"Shift-Ctrl-8":Object(o["q"])(e,r.nodes.list_item)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(o["u"])(/^\s*([-+*])\s$/,e)]}},{key:"name",get:function(){return"bullet_list"}},{key:"schema",get:function(){return{content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:function(){return["ul",0]}}}}]),r}(n["f"]);n["f"];function wt(t){var e=t.doc,r=t.name,n=[],o=Object(s["findBlockNodes"])(e).filter((function(t){return t.node.type.name===r})),i=function t(e){return e.reduce((function(e,r){return e.concat(Array.isArray(r)?t(r):r)}),[])};function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map((function(t){var r=[].concat(pt(e),pt(t.properties?t.properties.className:[]));return t.children?u(t.children,r):{text:t.value,classes:r}}))}return o.forEach((function(t){var e=t.pos+1,r=a.a.highlightAuto(t.node.textContent).value;i(u(r)).map((function(t){var r=e,n=r+t.text.length;return e=n,et({},t,{from:r,to:n})})).forEach((function(t){var e=c["a"].inline(t.from,t.to,{class:t.classes.join(" ")});n.push(e)}))})),c["b"].create(e,n)}function kt(t){var e=t.name;return new n["g"]({name:new n["h"]("highlight"),state:{init:function(t,r){var n=r.doc;return wt({doc:n,name:e})},apply:function(t,r,n,o){var i=n.selection.$head.parent.type.name,a=o.selection.$head.parent.type.name,c=Object(s["findBlockNodes"])(n.doc).filter((function(t){return t.node.type.name===e})),u=Object(s["findBlockNodes"])(o.doc).filter((function(t){return t.node.type.name===e}));return t.docChanged&&([i,a].includes(e)||u.length!==c.length)?wt({doc:t.doc,name:e}):r.map(t.mapping,t.doc)}},props:{decorations:function(t){return this.getState(t)}}})}n["f"],n["f"],n["f"],n["f"];var Ot=/!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,St=(n["f"],function(t){rt(r,t);var e=st(r);function r(){return Q(this,r),e.apply(this,arguments)}return Y(r,[{key:"keys",value:function(t){var e=t.type;return{Enter:Object(o["m"])(e),Tab:Object(o["l"])(e),"Shift-Tab":Object(o["d"])(e)}}},{key:"name",get:function(){return"list_item"}},{key:"schema",get:function(){return{content:"paragraph block*",defining:!0,draggable:!1,parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]}}}}]),r}(n["f"]));function jt(t){var e=t.char,r=void 0===e?"@":e,n=t.allowSpaces,o=void 0!==n&&n,i=t.startOfLine,a=void 0!==i&&i;return function(t){if(t.depth<=0)return!1;var e,n="\\".concat(r),i=new RegExp("\\s".concat(n,"$")),c=a?"^":"",s=o?new RegExp("".concat(c).concat(n,".*?(?=\\s").concat(n,"|$)"),"gm"):new RegExp("".concat(c,"(?:^)?").concat(n,"[^\\s").concat(n,"]*"),"gm"),u=t.before(),p=t.end(),f=t.doc.textBetween(u,p,"\0","\0"),l=s.exec(f);while(null!==l){var h=l.input.slice(Math.max(0,l.index-1),l.index);if(/^[\s\0]?$/.test(h)){var d=l.index+t.start(),m=d+l[0].length;o&&i.test(f.slice(m-1,m+1))&&(l[0]+=" ",m+=1),d<t.pos&&m>=t.pos&&(e={range:{from:d,to:m},query:l[0].slice(r.length),text:l[0]})}l=s.exec(f)}return e}}function Mt(t){var e=t.matcher,r=void 0===e?{char:"@",allowSpaces:!1,startOfLine:!1}:e,n=t.appendText,i=void 0===n?null:n,a=t.suggestionClass,s=void 0===a?"suggestion":a,p=t.command,f=void 0===p?function(){return!1}:p,l=t.items,h=void 0===l?[]:l,d=t.onEnter,m=void 0===d?function(){return!1}:d,y=t.onChange,v=void 0===y?function(){return!1}:y,g=t.onExit,b=void 0===g?function(){return!1}:g,w=t.onKeyDown,k=void 0===w?function(){return!1}:w,O=t.onFilter,S=void 0===O?function(t,e){return e?t.filter((function(t){return JSON.stringify(t).toLowerCase().includes(e.toLowerCase())})):t}:O;return new u["Plugin"]({key:new u["PluginKey"]("suggestions"),view:function(){var t=this;return{update:function(e,r){var n=t.key.getState(r),a=t.key.getState(e.state),c=n.active&&a.active&&n.range.from!==a.range.from,s=!n.active&&a.active,u=n.active&&!a.active,p=!s&&!u&&n.query!==a.query,l=s||c,d=p&&!c,y=u||c;if(l||d||y){var g=y?n:a,w=document.querySelector('[data-decoration-id="'.concat(g.decorationId,'"]')),k=w?{getBoundingClientRect:function(){return w.getBoundingClientRect()},clientWidth:w.clientWidth,clientHeight:w.clientHeight}:null,O={view:e,range:g.range,query:g.query,text:g.text,decorationNode:w,virtualNode:k,items:S(Array.isArray(h)?h:h(),g.query),command:function(t){var r=t.range,n=t.attrs;f({range:r,attrs:n,schema:e.state.schema})(e.state,e.dispatch,e),i&&Object(o["c"])(i)(e.state,e.dispatch,e)}};y&&b(O),d&&v(O),l&&m(O)}}}},state:{init:function(){return{active:!1,range:{},query:null,text:null}},apply:function(t,e){var n=t.selection,o=et({},e);if(n.from===n.to){(n.from<e.range.from||n.from>e.range.to)&&(o.active=!1);var i=n.$from,a=jt(r)(i),c=(Math.random()+1).toString(36).substr(2,5);a?(o.active=!0,o.decorationId=e.decorationId?e.decorationId:c,o.range=a.range,o.query=a.query,o.text=a.text):o.active=!1}else o.active=!1;return o.active||(o.decorationId=null,o.range={},o.query=null,o.text=null),o}},props:{handleKeyDown:function(t,e){var r=this.getState(t.state),n=r.active,o=r.range;return!!n&&k({view:t,event:e,range:o})},decorations:function(t){var e=this.getState(t),r=e.active,n=e.range,o=e.decorationId;return r?c["b"].create(t.doc,[c["a"].inline(n.from,n.to,{nodeName:"span",class:s,"data-decoration-id":o})]):null}}})}n["f"];var xt=function(t){rt(r,t);var e=st(r);function r(){return Q(this,r),e.apply(this,arguments)}return Y(r,[{key:"commands",value:function(t){var e=t.type,r=t.schema;return function(){return Object(o["q"])(e,r.nodes.list_item)}}},{key:"keys",value:function(t){var e=t.type,r=t.schema;return{"Shift-Ctrl-9":Object(o["q"])(e,r.nodes.list_item)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(o["u"])(/^(\d+)\.\s$/,e,(function(t){return{order:+t[1]}}),(function(t,e){return e.childCount+e.attrs.order===+t[1]}))]}},{key:"name",get:function(){return"ordered_list"}},{key:"schema",get:function(){return{attrs:{order:{default:1}},content:"list_item+",group:"block",parseDOM:[{tag:"ol",getAttrs:function(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1}}}],toDOM:function(t){return 1===t.attrs.order?["ol",0]:["ol",{start:t.attrs.order},0]}}}}]),r}(n["f"]),Ct=Object(p["tableNodes"])({tableGroup:"block",cellContent:"block+",cellAttributes:{background:{default:null,getFromDOM:function(t){return t.style.backgroundColor||null},setDOMAttr:function(t,e){if(t){var r={style:"".concat(e.style||"","background-color: ").concat(t,";")};Object.assign(e,r)}}}}}),_t=(n["f"],n["f"],n["f"],n["f"],function(t){rt(r,t);var e=st(r);function r(){return Q(this,r),e.apply(this,arguments)}return Y(r,[{key:"keys",value:function(t){var e=t.type;return{Enter:Object(o["n"])(e),Tab:this.options.nested?Object(o["l"])(e):function(){},"Shift-Tab":Object(o["d"])(e)}}},{key:"name",get:function(){return"todo_item"}},{key:"defaultOptions",get:function(){return{nested:!1}}},{key:"view",get:function(){return{props:["node","updateAttrs","view"],methods:{onChange:function(){this.updateAttrs({done:!this.node.attrs.done})}},template:'\n        <li :data-type="node.type.name" :data-done="node.attrs.done.toString()" data-drag-handle>\n          <span class="todo-checkbox" contenteditable="false" @click="onChange"></span>\n          <div class="todo-content" ref="content" :contenteditable="view.editable.toString()"></div>\n        </li>\n      '}}},{key:"schema",get:function(){var t=this;return{attrs:{done:{default:!1}},draggable:!0,content:this.options.nested?"(paragraph|todo_list)+":"paragraph+",toDOM:function(e){var r=e.attrs.done;return["li",{"data-type":t.name,"data-done":r.toString()},["span",{class:"todo-checkbox",contenteditable:"false"}],["div",{class:"todo-content"},0]]},parseDOM:[{priority:51,tag:'[data-type="'.concat(this.name,'"]'),getAttrs:function(t){return{done:"true"===t.getAttribute("data-done")}}}]}}}]),r}(n["f"])),At=function(t){rt(r,t);var e=st(r);function r(){return Q(this,r),e.apply(this,arguments)}return Y(r,[{key:"commands",value:function(t){var e=t.type,r=t.schema;return function(){return Object(o["q"])(e,r.nodes.todo_item)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(o["u"])(/^\s*(\[ \])\s$/,e)]}},{key:"name",get:function(){return"todo_list"}},{key:"schema",get:function(){var t=this;return{group:"block",content:"todo_item+",toDOM:function(){return["ul",{"data-type":t.name},0]},parseDOM:[{priority:51,tag:'[data-type="'.concat(this.name,'"]')}]}}}]),r}(n["f"]),Rt=function(t){rt(r,t);var e=st(r);function r(){return Q(this,r),e.apply(this,arguments)}return Y(r,[{key:"keys",value:function(t){var e=t.type;return{"Mod-b":Object(o["r"])(e)}}},{key:"commands",value:function(t){var e=t.type;return function(){return Object(o["r"])(e)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(o["e"])(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,e)]}},{key:"pasteRules",value:function(t){var e=t.type;return[Object(o["f"])(/(?:\*\*|__)([^*_]+)(?:\*\*|__)/g,e)]}},{key:"name",get:function(){return"bold"}},{key:"schema",get:function(){return{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(t){return"normal"!==t.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(t){return/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}}],toDOM:function(){return["strong",0]}}}}]),r}(n["e"]),Ft=(n["e"],function(t){rt(r,t);var e=st(r);function r(){return Q(this,r),e.apply(this,arguments)}return Y(r,[{key:"keys",value:function(t){var e=t.type;return{"Mod-i":Object(o["r"])(e)}}},{key:"commands",value:function(t){var e=t.type;return function(){return Object(o["r"])(e)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(o["e"])(/(?:^|[^_])(_([^_]+)_)$/,e),Object(o["e"])(/(?:^|[^*])(\*([^*]+)\*)$/,e)]}},{key:"pasteRules",value:function(t){var e=t.type;return[Object(o["f"])(/_([^_]+)_/g,e),Object(o["f"])(/\*([^*]+)\*/g,e)]}},{key:"name",get:function(){return"italic"}},{key:"schema",get:function(){return{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return["em",0]}}}}]),r}(n["e"])),Et=(n["e"],n["e"],function(t){rt(r,t);var e=st(r);function r(){return Q(this,r),e.apply(this,arguments)}return Y(r,[{key:"keys",value:function(t){var e=t.type;return{"Mod-u":Object(o["r"])(e)}}},{key:"commands",value:function(t){var e=t.type;return function(){return Object(o["r"])(e)}}},{key:"name",get:function(){return"underline"}},{key:"schema",get:function(){return{parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:function(t){return"underline"===t}}],toDOM:function(){return["u",0]}}}}]),r}(n["e"]));n["d"],n["d"],n["d"],n["d"],n["d"],n["d"]}}]);